add_library(transformer_encoder_layer_weight STATIC transformer_encoder_layer_weight.cc)
set_property(TARGET transformer_encoder_layer_weight PROPERTY POSITION_INDEPENDENT_CODE  ON)
target_link_libraries(transformer_encoder_layer_weight PUBLIC memory_utils log)

add_library(feed_forward_layer STATIC feed_forward_layer.cc)
set_property(TARGET feed_forward_layer PROPERTY POSITION_INDEPENDENT_CODE  ON)
target_link_libraries(feed_forward_layer PUBLIC linear_layer layer_norm_layer)

add_library(transformer_encoder_layer STATIC transformer_encoder_layer.cc)
set_property(TARGET transformer_encoder_layer PROPERTY POSITION_INDEPENDENT_CODE  ON)
target_link_libraries(transformer_encoder_layer PUBLIC feed_forward_layer multi_head_attention_layer transformer_encoder_layer_weight)